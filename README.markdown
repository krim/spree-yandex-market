= Yandex Market

Экспорт товаров в Яндекс.Маркет
==============================
Расширение предназначено для выгрузки списка товара в Яндекс.Маркет.(http://partner.market.yandex.ru/legal/tt/)
При экспорте передается следующая информация:
    1. Название магазина и его url.
    2. Валюты используемые в магазине.
    3. Категории товара.
       В качестве категорий выгружаемых в файл используется один из 'Таксонов', который задается в админке Яндекс.Маркет.
    4. Список товара.
       При выгрузке Товар может быть описан несколькими типами:
       1. "vendor.model"      - основной тип описания, рекомендуемый
       2. "book", "audiobook" - для книг и аудиокниг
       3. "music", "video"    - для музыки и видео
       4. "event_ticket"      - билеты на мероприятия
       Определение типа описания происходит следующим образом: если в свойстве товара, которое определено 
				в "Типе продукции" (Wares Type), одно из следующих значений  ["book", "audiobook", "music", "video", 
				"event_ticket"], то товар выгружается в соответствии с типом продукции, если свойство "тип продукции" 
				не определено или нет нужного значения, то описывается по основному типу "vendor.model"


Формирование файла экспорта:

    Файл формируется следующей командой: RAILS_ENV=#{RAILS_ENV} rake spree:extensions:yandex_market:generate_ym
    Сформированные файлы сохраняются в папку ROOT_RAILS/public/yandex_market с формируемым именем 
			файла "yandex_market_%Y_%m_%d__%H_%M".
    Для Яндекс.Робота создается линк на самый последний файл ROOT_RAILS/public/yandex_market/yandex_market.gz,
			который доступен по адресу http://[host]/yandex_market/yandex_market.gz
    Формирование файла можно делать через крон или запуском команды из блока администрирования.



Установка
---------
        script/extension install git://github.com/pronix/spree-yandex-market.git
        rake db:migrate
        Для периодического формирования файла экспорта запишите в крон следущую команду:
        cd #{ RAILS_ROOT } && RAILS_ENV=#{RAILS_ENV} rake spree:extensions:yandex_market:generate_ym


Настройка
--------
        Настройка осуществляется в панеле администрирования магазина в разделе Яндекс.Маркет.
        В основных настройках устанавливается название и адрес магазина, выгружаемая категория и отбор
				товара при выгрузке.
        В настройках валюты устанавливается список валют используемых в магазине.
        В настройке "Выгружаемые свойства товара" - сопоставляются выгружаемые данные со свойствами товара.
        Также для настроек можно использовать следующий синтаксис: Spree::YandexMarket::Config.set(:number_of_files => 10)




Copyright (c) 2010 pronix, divineforest
